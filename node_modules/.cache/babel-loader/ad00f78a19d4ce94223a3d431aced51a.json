{"ast":null,"code":"import _slicedToArray from \"/Users/jcrowson/Documents/hooks-demo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect } from 'react';\nimport useAudioPlayer from \"./useAudioPlayer\";\n\nvar useProgress = function useProgress() {\n  var _useAudioPlayer = useAudioPlayer(),\n      isPlaying = _useAudioPlayer.isPlaying;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      progress = _useState2[0],\n      setProgress = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      counter = _useState4[0],\n      setCounter = _useState4[1];\n\n  useEffect(function () {\n    var progressTimer;\n    if (!isPlaying) return;\n    progressTimer = setInterval(function (_) {\n      console.log('progress timer', progress);\n      setProgress(progress + 1);\n    }, 1000);\n    setCounter(counter + 1);\n    return function () {\n      clearInterval(progressTimer);\n    };\n  });\n  return {\n    progress: progress,\n    counter: counter\n  };\n};\n\nexport default useProgress;","map":{"version":3,"sources":["/Users/jcrowson/Documents/hooks-demo/src/useProgress.js"],"names":["useState","useEffect","useAudioPlayer","useProgress","isPlaying","progress","setProgress","counter","setCounter","progressTimer","setInterval","_","console","log","clearInterval"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,cAAP,MAA2B,kBAA3B;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AAAA,wBACFD,cAAc,EADZ;AAAA,MAChBE,SADgB,mBAChBA,SADgB;;AAAA,kBAEQJ,QAAQ,CAAC,CAAD,CAFhB;AAAA;AAAA,MAEjBK,QAFiB;AAAA,MAEPC,WAFO;;AAAA,mBAGMN,QAAQ,CAAC,CAAD,CAHd;AAAA;AAAA,MAGjBO,OAHiB;AAAA,MAGRC,UAHQ;;AAKxBP,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIQ,aAAJ;AACA,QAAI,CAACL,SAAL,EAAgB;AAChBK,IAAAA,aAAa,GAAGC,WAAW,CAAC,UAAAC,CAAC,EAAI;AAC/BC,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BR,QAA9B;AACAC,MAAAA,WAAW,CAACD,QAAQ,GAAG,CAAZ,CAAX;AACD,KAH0B,EAGxB,IAHwB,CAA3B;AAIAG,IAAAA,UAAU,CAACD,OAAO,GAAG,CAAX,CAAV;AACA,WAAO,YAAM;AACXO,MAAAA,aAAa,CAACL,aAAD,CAAb;AACD,KAFD;AAGD,GAXQ,CAAT;AAaA,SAAO;AACLJ,IAAAA,QAAQ,EAARA,QADK;AAELE,IAAAA,OAAO,EAAPA;AAFK,GAAP;AAID,CAtBD;;AAwBA,eAAeJ,WAAf","sourcesContent":["import { useState, useEffect } from 'react';\nimport useAudioPlayer from \"./useAudioPlayer\";\n\nconst useProgress = () => {\n  const { isPlaying } = useAudioPlayer();\n  const [progress, setProgress] = useState(0);\n  const [counter, setCounter] = useState(0);\n\n  useEffect(() => {\n    let progressTimer;\n    if (!isPlaying) return;\n    progressTimer = setInterval(_ => {\n      console.log('progress timer', progress);\n      setProgress(progress + 1);\n    }, 1000);\n    setCounter(counter + 1);\n    return () => {\n      clearInterval(progressTimer);\n    }\n  });\n\n  return {\n    progress,\n    counter,\n  }\n};\n\nexport default useProgress;\n"]},"metadata":{},"sourceType":"module"}